<div *ngVar="(inventoryResponse$ | async) as inventoryResponse" class="inventory">
  @if (input) {
    <form [formGroup]="formGroup" class="options">
      <mat-form-field>
        <input matInput type="text" formControlName="search" placeholder="Search" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Sort Type</mat-label>
        <mat-select formControlName="sortType">
          @for (sortType of sortTypes; track sortType) {
            <mat-option [value]="sortType.value">
              {{sortType.text}}
            </mat-option>
          }
        </mat-select>
      </mat-form-field>
    </form>
  }
  @if (loading$ | async) {
    <div class="loading">
      <cc-loading [observable]="loading$" [boolObservable]="true"></cc-loading>
    </div>
  }
  @if (inventoryResponse != null && !(loading$ | async)) {
    @if (inventoryResponse.cards.length > 0) {
      <div class="cards">
        @for (card of inventoryResponse.cards; track card) {
          <cc-card [card]="card" [click]="click" (clickEvent)="clickEvent.emit(card.id)"></cc-card>
        }
      </div>
    } @else {
      <div class="empty">
        <div class="empty-content">
          <mat-icon color="accent" svgIcon="credit_card_off"></mat-icon>
          <p>No cards found</p>
        </div>
      </div>
    }
  }
  @if (inventoryResponse != null) {
    <mat-paginator [length]="inventoryResponse.cardCount" [pageSize]="inventoryResponse.pageSize" (page)="changePage($event)"></mat-paginator>
  }
</div>
