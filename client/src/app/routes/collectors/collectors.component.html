<div class="collectors-wrapper wrap" *ngVar="(collectorIndexResponse$ | async) as res">
  <form [formGroup]="formGroup">
    <mat-form-field>
      <input matInput type="text" formControlName="search" placeholder="Search" />
    </mat-form-field>
    <button class="new-collector" matButton="outlined" (click)="newCollector()">New</button>
  </form>
  <div class="loading" *ngIf="loading$ | async">
    <cc-loading [observable]="loading$" [boolObservable]="true"></cc-loading>
  </div>
  @if (res != null && !(loading$ | async)) {
    @if (res.collectors.length > 0) {
      <div class="collectors">
        @for (collector of res.collectors; track collector) {
          <cc-collector-card [collector]="collector"></cc-collector-card>
        }
      </div>
    } @else {
      <div class="empty">
        <div class="empty-content">
          <mat-icon color="accent" svgIcon="credit_card_off"></mat-icon>
          <p>No collectors found</p>
        </div>
      </div>
    }
  }
  <mat-paginator *ngIf="res != null" [pageSize]="res.pageSize" [length]="res.collectorCount" (page)="changePage($event)"></mat-paginator>
</div>
